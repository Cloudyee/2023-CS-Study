## 목차
1. SQL
2. NoSQL
3. 수직적(Vertical) & 수평적(Horizontal) 확장(Scaling)
4. SQL과 NoSQL을 사용하는 케이스
5. 예상 면접 질문
6. 참고문헌
<br>
<br>

# SQL
<div align='center'>   
    <img src="img/SQL vs NoSQL_1.png" width="600px">
</div>

- `구조화`된 쿼리 언어(Structured Query Language)의 약자로, 특정 유형의 데이터베이스와 상호 작용하는 데 사용하는 쿼리 언어이다.
- RDBMS(관계형 데이터베이스 관리 시스템)에서 데이터 저장, 수정, 삭제, 검색이 가능하다.
<br>

## SQL 특징
### 엄격한 스키마
- 데이터는 사전에 정의된 `엄격한` 데이터 스키마(structure)를 따라 데이터베이스 테이블에 저장된다.
  - column : 하나의 속성에 대한 정보를 저장한다. column마다 이름과 데이터 타입이 정의된다.
  - row(record) : 데이터 `형식에 맞는` 데이터가 저장된다.
  - 스키마를 준수하지 않는 row는 추가할 수 없다.
<br>

### 관계
- 데이터들을 여러 개의 데이블에 나누어 저장하여 데이터의 중복을 피할 수 있다.
- 각 테이블에는 중복된 속성과 이 속성에 따른 데이터가 저장되어있지 않고, 다른 테이블에 저장되지 않은 데이터만을 가지고 있다.
<br>
<br>

# NoSQL
<div align='center'>   
    <img src="img/SQL vs NoSQL_2.png" width="400px">
</div>

- SQL(관계형 데이터베이스)과 반대되는 접근 방식을 갖는다.
- `스키마(구조)와 관계 없이` 다른 구조의 데이터를 같은 `Collection`(=SQL table)에 추가할 수 있다.
- 레코드를 문서(`documents`)라고 부르며, JSON 데이터와 비슷한 형태를 가지고 있다. 
- 관계형 데이터베이스처럼 데이터를 여러 테이블에 나누어 저장되지 않고, 관련 데이터를 **동일한 Collection에 담는다.**
    - ➡️ Collection에는 필요한 모든 정보를 가진 Documents가 있으므로, 데이터 탐색 시, Join할 필요가 없어, **Join 개념이 존재하지 않는다.**
    - Join 하고 싶을 때에는 Collection을 통해 데이터를 복제하여 각 컬렉션 일부분에 속하는 데이터를 산출하도록 한다.
<br>

## NoSQL 특징
- 유연성 : 스키마 선언이 없어 엄격한 테이블 구조의 제약을 받지 않는다. 따라서 필드의 추가 및 삭제가 자유롭다.
- 확장성 : 수직적 확장성을 제공하여 서버 확장이 용이하다.
- 고성능 : 대용량 데이터를 처리하는 성능이 뛰어나다.
- 가용성 : 여러 대의 백업 서버 구성이 가능하여 장애 발생 시에도 무중단 서비스가 가능하다.
<br>

# 수직적(Vertical) & 수평적(Horizontal) 확장(Scaling)
<div align='center'>   
    <img src="img/SQL vs NoSQL_4.png" width="600px">
</div>

## 수직적(Vertical) 확장
- 단순히 데이터베이스의 서버 성능을 향상시키는 것이다.
- 예) CPU 업그레이드
- 일반적으로 관계형 데이터베이스의 확장 방식이다.
    - 같은 테이블 스키마를 가진 데이터를 다수의 데이터베이스에 분산하여 저장하는 방식인 샤딩(Sharding)을 활용해서 데이터를 저장하여 수평적 확장을 할 수는 있으나, 구현하기 어렵다.
<br>

## 수평적(Horizontal) 확장
- 더 많은 서버가 추가되고 데이터베이스가 전체적으로 분산된다. 따라서 하나의 데이터베이스에서 작동하지만 여러 호스트에서 작동한다.
- NoSQL 데이터베이스에서 기본적으로 수평적 확장을 지원하여, 여러 서버에서 데이터베이스를 쉽게 분산할 수 있다.
<br>
<br>


# SQL과 NoSQL을 사용하는 케이스
<div align='center'>   
    <img src="img/SQL vs NoSQL_3.png" width="600px">
</div>

## SQL
- 데이터베이스의 ACID 성질을 준수해야 하는 경우
    - ACID
        - 데이터베이스에서 실행되는 하나의 트랜잭션(Transaction)에 의한 상태의 변화를 수행하는 과정에서, 안전성을 보장하기 위해 필요한 성질
        - Atomicity(원자성), Consistency(일관성), Isolation(격리성), Durability(지속성)
- 소프트웨어에서 사용되는 데이터가 구조적, 일관적인 경우
- 관계를 맺고 있는 데이터가 자주 수정되는 애플리케이션일 경우(NoSQL에서는 여러 컬렉션을 모두 수정해줘야 한다.)
<br>

## NoSQL
- 정확한 데이터 구조를 알 수 없거나 변경, 확장 될 수 있는 경우
- 읽기(read)처리를 자주하지만, 데이터를 자주 수정(update)하지 않는 경우 (= 한번의 변경으로 수십 개의 문서를 업데이트 할 필요가 없는 경우)
- 대용량 데이터를 다뤄야해서 데이터베이스를 수평적으로 확장해야 하는 경우
- 빠르게 서비스를 구축하는 과정에서 데이터 구조를 자주 업데이트 하는 경우
    - 스키마를 구조화 할 필요가 없어서 빠르게 개발하는 경우에 유리하다.
    - 시장에 빠르게 프로토타입을 출시해야 하는 경우가 이에 해당한다.
<br>
<br>


# 예상 면접 질문
**Q. RDBMS(SQL)와 NoSQL의 차이에 대해 설명해주세요.**
<br>
A. RDBMS는 2차원의 행과 열로 데이터의 관계를 관리합니다. 구조화된 엄격한 데이터 스키마에 따라 데이터를 테이블에 저장하기때문에, 나중에 스키마를 수정하기 번거롭습니다. 또한 Join이 많은 경우 쿼리가 복잡해집니다. 
반면에 NoSQL은 데이터 간의 관계를 정의하지 않고, 스키마가 없기 때문에 데이터의 관리가 자유롭습니다. 또한 데이터 분산이 용이하여 대용량 데이터 처리에 적합합니다. 그러나 중복된 데이터가 있을 수 있고, 이것이 변경될 경우 모든 컬렉션에서 데이터를 수정을 해야하는 번거로움이 있습니다.
<br>

**Q. RDBMS(SQL)와 NoSQL은 어느 경우에 적합한가요?**
<br>
A. RDBMS는 데이터 구조가 명확하고, ACID 성질을 준수해야 하는 프로그램에 적합합니다. 
NoSQL은 정확한 데이터 구조를 알 수 없거나, 대용량 데이터를 분산 처리 하여 다뤄야 하는 경우에 적합합니다.
<br>
<br>


# 참고문헌
- [SQL vs NoSQL](https://hanamon.kr/%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4-sql-vs-nosql/)
- [DB ACID](https://victorydntmd.tistory.com/129)
- [예상 면접 질문](https://dev-coco.tistory.com/158)
