# 싱글톤 패턴이란?
정의 : 객체의 인스턴스가 오직 1개만 생성되는 패턴

## 싱글톤 패턴을 사용하는 이유 🤔
### **메모리 측면**
인스턴스가 필요할 때 똑같은 인스턴스를 새로 만들지 않고 기존의 인스턴스를 가져와 활용할 수 있다.
### **데이터 공유 측면**
**전역변수** 를 만들어 사용하는 이유와 유사하다.
전역변수를 사용하는 이유는, 똑같은 데이터를 메서드마다 지역 변수로 선언하는 것이 아닌 전역에서 한 번만 데이터를 선언하고 가져와 사용하면 효율적이기 때문이다.
이러한 개념을 그대로 클래서에 적용한 것이 **싱글톤 패턴**
따라서, 리소스를 많이 차지하는 객체의 경우 싱글톤 패턴을 적용해주기에 적합하다.

## 싱글톤 패턴이 사용되는 대표적인 경우들
데이터베이스 연결 모듈, 디스크 연결, 네트워크 통신, DBCP 커넥션풀, 스레드풀, 캐시, 로그 기록 객체 등
위와 같은 객체는 새로 만들어 사용할 일이 없다.

즉, 어플리케이션에서 유일한 것이 좋을 때는 싱글톤 객체로 생성하는 것이 좋다.

## 싱글톤 패턴의 구현 방법
```java
public class Singleton {

    private static Singleton instance = new Singleton();
    
    private Singleton() {
        // 생성자는 외부에서 호출못하게 private 으로 지정해야 한다.
    }

    public static Singleton getInstance() {
        return instance;
    }

    public void say() {
        System.out.println("hi, there");
    }
}
```

## 싱글톤 패턴의 문제점
### 1. 모듈간 의존성이 높아진다.
싱글톤을 이용하는 경우 인터페이스가 아닌 클래스의 객체를 미리 생성하고 정적 메소드를 이용해 사용하게 된다.
즉, 하나의 싱글톤 클래스를 여러 모듈이 공유하기 때문에 싱글톤의 인스턴스가 변경도면 이를 참조하는 모듈들도 수정이 필요하다.

### 2. SOLID 원칙에 위배되는 사례가 많다.
  - (단일 책임 원칙 SRP 위반) 싱글톤 인스턴스 하나만 생성되기 때문에 여러가지 책임을 지니게 되는 경우가 많다.
  - (개방-폐쇄 원칙 OCP 위반) 싱글톤 인스턴스가 혼자 너무 많은 일을 하거나, 많은 데이터를 공유시킬 경우 클래스간 결합도가 높아진다.
  - (의존 역전 원칙 DIP 위반) 클라이언트가 인터페이스와 같은 추상화가 아닌, 구체 클래스에 의존하게 된다.

### 3. 단위 테스트에 애로사항이 있다.
단위 테스트를 할때, 테스트가 서로 독립적이고, 테스트를 어떤 순서로든 실행할 수 있어야 한다.
하지만, 싱클톤 인스턴스는 자원을 공유하고 있기 때문에 테스트가 온전히 수행되지 못한다.

